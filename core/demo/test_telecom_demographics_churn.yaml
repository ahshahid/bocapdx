
pipeline: "BasicBatchPipeline"
objective: "reduce churn"

inputURI: "jdbc:snappydata://34.70.196.110:1527"

baseTable: "telecom_churn_billing_prepped"

classifier: "predicate"
metric: "churn"
predicate: "=="
cutoff: "1"

#extraPredicate: "where age1 > 0 and age2 > 0 and  hnd_webcap != 'NA' and mailresp !='NA' "

summarizer: "aplinear"
#summarizer: "fpgrowth"
# summarizer: "countmeanshift"
########
## fpgrowth doesn't test with attribute combinations ... need to fix ...
########

attributes:
  - "adjmou_bin"
  - "adjqty_d_bin"
  - "adjrev_bin"
  - "avgmou_bin"
  - "avgqty_bin"
  - "avgrev_bin"
  - "eqpdays_d_bin"
  - "mou_mean_d_bin"
  - "ovrrev_mean_d_bin"
  - "rev_mean_d_bin"
  - "rev_range_d_bin"
  #
  - "totcalls_d_bin"
  - "totmrc_mean_d_bin"
  - "totrev_bin"
  #  - "avg3mou"
  #  - "avg3qty"
  #  - "avg6mou"
  #  - "avg6qty"
  - "datovr_mean"
  - "datovr_range"
  - "mou_range"
  - "roam_mean"
  #### Below attributes are subscriber demographics, etc ....
  - "actvsubs"
  - "age1"
  - "age2"
  - "area"
  - "asl_flag"
  #  - "car_buy"
  #  - "cartype"
  - "children"
  - "crclscod"
  - "csa"
  ####  -
  - "div_type"
  - "dwllsize"
  - "dwlltype"
  - "ethnic"
  - "forgntvl"
  - "hnd_webcap"
  - "income"
  - "mailordr"
  - "mailresp"
  - "marital"
  - "models"
  - "mtrcycle"
  - "numbcars"
  - "occu1"
  - "prizm_social_one"
  - "proptype"
  - "refurb_new"
  - "solflag"
  - "uniqsubs"
  - "wrkwoman"


####  -  div_type, dwllsize, dwlltype, ethnic, forgntvl, hnd_webcap, income, mailordr, mailresp, marital, models, mtrcycle, numbcars, occu1, prizm_social_one, proptype, refurb_new, solflag, uniqsubs, wrkwoman, churn, adjmou_binnum, adjqty_d_binnum, adjrev_binnum, avgmou_binnum, avgqty_binnum, avgrev_binnum, eqpdays_d_binnum, mou_mean_d_binnum, ovrrev_mean_d_binnum, rev_mean_d_binnum, rev_range_d_binnum, totcalls_d_binnum, totmrc_mean_d_binnum, totrev_binnum)

ratioMetric: "globalratio"
minRatioMetric: 1.5
minSupport: 0.02
maxOrder: 2

